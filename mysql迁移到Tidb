1、首先搭建测试环境的TIDB，包括TICDC和DM工具（安装最新的LTS小版本8.5.1）
2、确定要迁移的模块，按模块进行迁移，先迁移一个非核心链路模块，迁移过程无问题后再迁移核心模块
3、将要迁移的模块的表结构在对应的TIDB库里面建立
4.1、使用DM工具对迁移模块的表进行全量和增量同步到TIDB对应库
4.2、迁移模块进行TIDB代码适配
5.1、检查验证DM迁移数据是否正常
5.2、验证程序是否适配TIDB正常
6、生产停服进行模块TIDB迁移
7、进行全过程复盘和总结，推广进行其他模块进行处理

注意事项：
1、主键不能自增长，会有热点问题，使用/*T![auto_rand] AUTO_RANDOM(6) */
2、视图能否迁移过去，还有存储过程，触发器

TiDB 默认使用的字符集为 utf8mb4。建议同步上下游及应用统一使用 utf8mb4
针对注单这样的大表
SHARD_ROW_ID_BITS = 5 PRE_SPLIT_REGIONS=4;只能用于AUTO_RANDOM
SHARD_ROW_ID_BITS = 5 表示 tidb_rowid 的值会随机分布成 32 (32=2^5) 个范围区间。
PRE_SPLIT_REGIONS=4 表示建完表后提前切分出 16 (2^4) 个 Region。
CREATE TABLE t_test(
paimary_id bingint(20) NOT NULL /*T![auto_rand] AUTO_RANDOM(5) */,
logic_id bingint(20) NOT NULL,

PRIMARY KEY(paimary_id)/*T![clustered_index] CLUSTERED */,
UNIQUE KEY uk_logic_id(logic_id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin PRE_SPLIT_REGIONS=4;

https://docs.pingcap.com/zh/tidb/stable/dm-manage-source/
执行物理 DDL（包括添加索引或列类型变更）时，适当调整以下系统变量可以平衡 DDL 执行速度与对业务负载的影响：
tidb_ddl_reorg_worker_cnt：这个变量用来设置 DDL 操作 reorg worker 的数量，控制回填的并发度。
tidb_ddl_reorg_batch_size：这个变量用来设置 DDL 操作 re-organize 阶段的 batch size，以控制回填的数据量。
推荐值：
在无其他负载情况下，如需让 ADD INDEX 尽快完成，可以将 tidb_ddl_reorg_worker_cnt 和 tidb_ddl_reorg_batch_size 的值适当调大，例如将两个变量值分别调为 20 和 2048。
在有其他负载情况下，如需让 ADD INDEX 尽量不影响其他业务，可以将 tidb_ddl_reorg_worker_cnt 和 tidb_ddl_reorg_batch_size 适当调小，例如将两个变量值分别调为 4 和 256




后续进行服务治理&资损监控
